function formatTime(t){let e=Math.floor(t/60),r=t%60;return r%1==0?`${e.toString().padStart(2,"0")}:${Math.floor(r).toString().padStart(2,"0")}`:`${e.toString().padStart(2,"0")}:${r.toFixed(2).padStart(5,"0")}`}function makePlot(t){let e="depth (m)",r="rate (m/s)",o="royalblue",i="grey";var a=t.t[1]-t.t[0];t.t=t.t.map(formatTime);var l=Math.round(5/a),n=t.t.filter((t,e)=>e%l==0),d=t.vertrate.map(t=>t<0?"dark"+i:"light"+i);Plotly.react("divePlot",[{x:t.t,y:t.depth,mode:"lines",type:"scatter",name:e,yaxis:"y",line:{color:o},zorder:10},{x:t.t,y:t.vertrate,mode:"lines",type:"bar",name:r,yaxis:"y2",marker:{color:d},zorder:5},{x:t.t,y:t.temperature,mode:"lines",type:"scatter",name:"temp (C)",yaxis:"y3",marker:{color:"gold"},zorder:6}],{title:t.date+" // "+t.time+" // "+t.locname,showlegend:!1,xaxis:{title:"time (s)",tickvals:n,ticktext:n},yaxis:{title:e,side:"left",titlefont:{color:o},tickfont:{color:o}},yaxis2:{title:r,overlaying:"y",side:"right",titlefont:{color:i},tickfont:{color:i},showgrid:!1},yaxis3:{showticklabels:!1,overlaying:"y",showgrid:!1}})}window.addEventListener("resize",function(){Plotly.Plots.resize(document.getElementById("divePlot"))});
